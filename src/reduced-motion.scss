/*!
	@author drementer
	@license MIT (https://github.com/drementer/reduced-motion.css/blob/master/LICENSE) 	 
*/

/*
	Remove
	(1) animations (opinionated),
	(2) fixed background attachments (opinionated),
	(3) timed scrolling behaviors (opinionated),
	(4) ransitions (opinionated)
	(5) hide marquee elements (opinionated)
	when motion is reduced.
*/

$root: reduced-motion;
$parameter: "off";
$not: ":not(*[#{$root}=#{$parameter}]):not(*[#{$root}=#{$parameter}] *)";

@mixin content-filler {
	/* 1 */
	animation-delay: -1ms !important;
	animation-duration: 1ms !important;
	animation-iteration-count: 1 !important;

	/* 2 */
	background-attachment: initial !important;

	/* 3 */
	scroll-behavior: auto !important;

	/* 4 */
	transition-delay: 0s !important;
	transition-duration: 0s !important;
}
@mixin media-content-filler() {
	@media (prefers-reduced-motion: reduce) {
		@include content-filler;
	}
}
@mixin close-marquee {
	/* 5 */
	marquee {
		display: none !important;
	}
}
@mixin media-close-marquee() {
	@media (prefers-reduced-motion: reduce) {
		@include close-marquee;
	}
}

[#{$root}] {
	&#{$not},
	*#{$not} {
		&,
		&::before,
		&::after {
			@include content-filler();
		}
		@include close-marquee();
	}
}

* {
	&,
	&::before,
	&::after {
		@include media-content-filler();
	}
	@include media-close-marquee();
}
